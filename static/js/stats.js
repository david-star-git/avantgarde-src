function animateCounter(element,target,duration=2000,hasSuffix=false){const start=0;const increment=target/(duration/16);let current=start;const timer=setInterval(()=>{current+=increment;if(current>=target){element.textContent=hasSuffix?target+"+":target;clearInterval(timer);}else{element.textContent=Math.floor(current)+(hasSuffix?"+":"");}},16);}
function isInViewport(element){const rect=element.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth));}
let animated=false;function checkAndAnimate(){const statsSection=document.querySelector(".stats");if(!animated&&isInViewport(statsSection)){animated=true;document.querySelectorAll(".stat-item").forEach((item,index)=>{const target=parseInt(item.dataset.target);const numberElement=item.querySelector(".stat-number");const hasSuffix=numberElement.textContent.includes("+");setTimeout(()=>{item.classList.add("animated");animateCounter(numberElement,target,2000,hasSuffix);},index*200);});}}
window.addEventListener("scroll",checkAndAnimate);window.addEventListener("load",checkAndAnimate);checkAndAnimate();