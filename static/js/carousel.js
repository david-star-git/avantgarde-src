document.addEventListener("DOMContentLoaded",()=>{const projectContainer=document.querySelector(".project-container");const projectCards=document.querySelectorAll(".project-card");const prevBtn=document.querySelector(".prev-btn");const nextBtn=document.querySelector(".next-btn");const dotsContainer=document.querySelector(".project-dots");console.log("cards:",projectCards.length);if(!projectContainer||!projectCards.length||!dotsContainer){console.error("Carousel init failed");return;}
let currentIndex=0;let autoPlayInterval;const totalProjects=projectCards.length;projectCards.forEach((_,i)=>{const dot=document.createElement("div");dot.classList.add("dot");if(i===0)dot.classList.add("active");dot.addEventListener("click",()=>{currentIndex=i;updateCarousel();resetAutoplay();});dotsContainer.appendChild(dot);});const dots=dotsContainer.querySelectorAll(".dot");function updateCarousel(){projectContainer.style.transform=`translateX(-${currentIndex*100}%)`;dots.forEach((dot,i)=>dot.classList.toggle("active",i===currentIndex),);}
prevBtn?.addEventListener("click",()=>{currentIndex=(currentIndex-1+totalProjects)%totalProjects;updateCarousel();resetAutoplay();});nextBtn?.addEventListener("click",()=>{currentIndex=(currentIndex+1)%totalProjects;updateCarousel();resetAutoplay();});function startAutoplay(){autoPlayInterval=setInterval(()=>{currentIndex=(currentIndex+1)%totalProjects;updateCarousel();},5000);}
function resetAutoplay(){clearInterval(autoPlayInterval);startAutoplay();}
updateCarousel();startAutoplay();});